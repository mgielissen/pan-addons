<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    <template id="report_invoice_new_custom_overlap" inherit_id="account.report_invoice_document">
        <xpath expr="//tr[@t-foreach='o.invoice_line']" position="replace">
            <tr t-foreach="o.invoice_line" t-as="l" style="page-break-inside: avoid !important;">
                <td><span t-field="l.name"/></td>
                <td>
                    <span t-field="l.quantity"/>
                    <span t-field="l.uos_id"  groups="product.group_uom"/>
                </td>
                <td class="text-right">
                    <span t-field="l.price_unit"/>
                </td>
                <td groups="sale.group_discount_per_so_line"><span t-field="l.discount"/></td>
                <td class="text-right">
                    <span t-esc="', '.join(map(lambda x: x.name, l.invoice_line_tax_id))"/>
                </td>
                <td class="text-right">
                    <span t-field="l.price_subtotal" 
                        t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                </td>
           </tr>
        </xpath>
    </template>
</data>
</openerp>

